<template>
  <div class="components-message">
    <PageDemo>
			<template slot='page-title'>FireLeaf-Vue ğŸ‚ Components</template>
			<template slot="page-quote">
				ç±»iview-Message ç»„ä»¶&nbsp;
				<a href="https://www.iviewui.com/components/message" target="_blank">iview Message</a>
			</template>
			<template slot="page-desc">
        <Row :gutter="8" class-name="margin-b-1">
          <Col :md="12" :xs="24">
            <Demo>
              <span slot="header">Message-basic</span>
              <div slot="body">
                <Button @click="info">info</Button>
                <Button @click="success">success</Button>
                <Button @click="warning">warning</Button>
                <Button @click="error">error</Button>    
                <Button @click="loading">loading</Button>    
              </div>
              <div slot="footer">
                <Doc>
                  <DocLine><code>Message</code>åŸºæœ¬æç¤ºï¼Œé»˜è®¤3så…³é—­</DocLine>
                </Doc>
              </div>
            </Demo>
          </Col>
          <Col :md="12" :xs="24">
            <Demo>
              <span slot="header">Message-close</span>
              <div slot="body">
                <Button @click="close">close</Button>
                <Button @click="noTime">noTime</Button>           
              </div>
              <div slot="footer">
                <Doc>
                  <DocLine><code>Message configï¼š</code>durationä¸º0 åˆ™ä¸å…³é—­</DocLine>
                  <DocLine><code>Message configï¼š</code>closable æ˜¾ç¤ºå…³é—­</DocLine>
                </Doc>
              </div>
            </Demo>
          </Col>
        </Row>
        <Row :gutter="8" class-name="margin-b-1">
          <Col :md="12" :xs="24">
            <Demo>
              <span slot="header">Message-confirm</span>
              <div slot="body">
                <Button @click="renderFunc">render message</Button>
              </div>
              <div slot="footer">
                <Doc>
                  <DocLine><code>Message render</code>è‡ªå®šä¹‰æè¿°å†…å®¹</DocLine>
                </Doc>
              </div>
            </Demo>
          </Col>
          <Col :md="12" :xs="24">
            <Demo>
              <span slot="header">Message-filterRepeat</span>
              <div slot="body">
                <Button @click="renderFilterRepeat">repeat filter</Button>
              </div>
              <div slot="footer">
                <Doc>
                  <DocLine><code>Message repeat filter</code>é…ç½®è¿‡æ»¤é‡å¤</DocLine>
                </Doc>
              </div>
            </Demo>
          </Col>
        </Row>
			</template>
    </PageDemo>
  </div>
</template>

<script>
import {Row, Col, Button} from 'iview';
import {Demo, Doc, DocLine} from '@/components/';
import PageDemo from '@/pages/main-components/page-demo';
export default {
  name: 'CMessage',
  components: {Demo, Doc, DocLine, Row, Col, PageDemo, Button},
  data () {
    return {
      filterRepeat: false
    };
  },
  methods: {
    info () {
      this.$FLVMessage.info('This is a default info tip');
    },
    loading () {
      this.$FLVMessage.loading('This is a loading tip');
    },
    success () {
      this.$FLVMessage.success('This is a success tip');
    },
    warning () {
      this.$FLVMessage.warning('This is a warning tip');
    },
    error () {
      this.$FLVMessage.error('This is an error tip');
    },
    close () {
      this.$FLVMessage.info({
        message: '10Så†…å¯å…³é—­message',
        duration: 10000,
        closable: true
      });
    },
    noTime () {
      this.$FLVMessage.info({
        message: 'åªèƒ½æ‰‹åŠ¨å…³é—­message',
        duration: 0,
        closable: true
      });
    },
    renderFunc () {
      this.$FLVMessage.info({
        render: () => {
          return (<span>è¿™æ˜¯<a>render</a>è‡ªå®šä¹‰æ¸²æŸ“</span>);
        }
      });
    },
    renderFilterRepeat () {
      const bol = !this.filterRepeat;
      this.filterRepeat = bol;
      this.$FLVMessage.config({
        filterRepeat: bol
      });
      this.$FLVMessage.warning(`å…¨å±€é…ç½®è¿‡æ»¤é‡å¤ï¼š${this.filterRepeat ? 'æ˜¯' : 'å¦'}`);
    }
  }
};
</script>
